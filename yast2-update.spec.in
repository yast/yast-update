@HEADER-COMMENT@

@HEADER@
BuildRequires:	yast2-storage perl-XML-Writer yast2-devtools yast2-testsuite update-desktop-files
# Packages::GetBaseSourceID
BuildRequires:	yast2-packager >= 2.17.19
# Wizard::OpenOKDialog
BuildRequires:	yast2 >= 2.16.49
# package not really needed to be installed but this breaks the building cycle

# Installation::installedVersion && Installation::updateVersion
# Update::* moved to Installation::update_*
Requires:	yast2 >= 2.16.5
Requires:	yast2-installation
Requires:	yast2-packager >= 2.17.19

# moved into yast2-update from yast2-installation
# to remove dependency on yast2-storage
Provides:	yast2-installation:/usr/share/YaST2/clients/vendor.ycp

# Required only in inst-sys
# Requires:	yast2-storage
# Requires:	yast2-country

# Pkg::PkgUpdateAll (map conf)
Conflicts:	yast2-pkg-bindings < 2.15.11
# Storage::DeviceMatchFstab (#244117)
Conflicts:	yast2-storage < 2.15.4

Summary:	YaST2 - Libraries and scripts for the installation/upgrade

%package FACTORY
Group:		System/YaST
PreReq:		%fillup_prereq
Requires:	yast2-update yast2

# moved into yast2-update from yast2-installation
# to remove dependency on yast2-storage
Provides:	yast2-update:/usr/share/YaST2/clients/update.ycp

Summary:	YaST2 - FACTORY update

%description
Installation/upgrade proposal

%description FACTORY
Updates packages to their latest versions

@PREP@

@BUILD@

@INSTALL@

@CLEAN@

%files
%defattr(-,root,root)
@ybindir@/*
@moduledir@/*

@clientdir@/inst_rootpart.ycp
@clientdir@/inst_update.ycp
@clientdir@/inst_backup.ycp
@clientdir@/rootpart_proposal.ycp
@clientdir@/update_proposal.ycp
@clientdir@/packages_proposal.ycp
@clientdir@/backup_proposal.ycp
@clientdir@/inst_update_partition.ycp
@clientdir@/rootpart_check_keyboard.ycp

@yncludedir@/update
@yncludedir@/update/rootpart.ycp

%doc @docdir@

%files FACTORY
%defattr(-,root,root)
@desktopdir@/update.desktop
%dir /usr/share/YaST2/control
/usr/share/YaST2/control/update.xml
@clientdir@/update.ycp
@clientdir@/run_update.ycp
